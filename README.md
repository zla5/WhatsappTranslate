# WhatsApp 翻译脚本

这是一个用于 WhatsApp Web 的 Tampermonkey 用户脚本，通过电话区号自动检测国家、语言、货币和当地时间，并提供消息自动翻译功能（使用免费谷歌翻译 API）。此外，脚本还支持常用短语列表，方便电商（如 Alisa.shop）客服使用。

## 功能

- **自动翻译**：将发送的消息翻译为收件人的语言（基于电话区号）或手动选择的语言，支持自动语言检测。
- **国家与语言检测**：根据电话区号显示对应的国家、语言、货币和当地时间。
- **自定义输入框**：在 WhatsApp Web 侧边栏添加电话号码输入框，直接发起聊天。
- **常用短语**：提供可点击的常用短语列表，适用于电商客服场景。
- **消息翻译按钮**：为接收的消息添加“翻译”按钮，支持翻译为中文（zh-CN），自动检测源语言。
- **语言偏好保存**：使用 localStorage 保存每个电话号码的手动语言选择。
- **响应式界面**：自定义样式的输入框、按钮和翻译界面，与 WhatsApp Web 无缝集成。

## 安装

1. **安装 Tampermonkey**：
   在你的浏览器中安装 Tampermonkey 扩展：
   - [Chrome](https://www.tampermonkey.net/)
   - [Firefox](https://www.tampermonkey.net/)
   - [Edge](https://www.tampermonkey.net/)
   - [Safari](https://www.tampermonkey.net/)

2. **添加脚本**：
   - 点击浏览器中的 Tampermonkey 图标，选择 **创建新脚本**。
   - 将本仓库中的 `whatsapp-auto-translate.js` 文件内容（或 `whatsapp - 副本 - 副本.txt`）复制粘贴到编辑器中。
   - 保存脚本（Ctrl+S 或 Cmd+S）。

3. **访问 WhatsApp Web**：
   - 打开 [WhatsApp Web](https://web.whatsapp.com/)。
   - 脚本将自动运行并添加自定义界面元素。

## 使用方法

### 发起聊天
1. 在 WhatsApp Web 侧边栏顶部的输入框中输入电话号码（包含区号，例如 `+12025550123`）。
2. 点击 **发起聊天** 按钮，跳转到对应号码的聊天界面。

### 查看国家信息
- 聊天界面显示电话号码时，脚本会在号码下方自动显示国家、语言、货币和当地时间。
- 当地时间每秒更新，基于检测到的时区。

### 翻译发送消息
1. 在聊天底部，使用文本区域输入消息（默认源语言：中文 zh-CN）。
2. 从下拉菜单选择目标语言（或选择“自动”以使用基于区号的语言）。
3. 点击 **发送** 按钮或按 Enter 键翻译并发送消息。
4. 手动选择的语言会按电话号码保存，供后续使用。

### 使用常用短语
- 输入框下方显示编号的常用短语列表（例如客服用语）。
- 点击短语将其填充到输入框，可直接发送或编辑。

### 翻译接收消息
- 每条接收消息旁会显示一个 **翻译** 按钮。
- 点击按钮将消息翻译为中文（zh-CN），自动检测源语言。
